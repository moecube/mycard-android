<app-toolbar>房间列表</app-toolbar>

<md-table #table [dataSource]="dataSource">

  <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on room row definition" -->

  <!-- ID Column -->
  <ng-container cdkColumnDef="title">
    <md-header-cell class="game-title" *cdkHeaderCellDef>游戏标题</md-header-cell>
    <md-cell class="game-title" *cdkCellDef="let room">{{room.title}}</md-cell>
  </ng-container>

  <!-- Progress Column -->
  <ng-container cdkColumnDef="users">
    <md-header-cell *cdkHeaderCellDef>玩家</md-header-cell>
    <md-cell *cdkCellDef="let room">
      <img *ngFor="let user of room.users" class="avatar" [src]="'https://ygobbs.com/user_avatar/ygobbs.com/' + user.username + '/25/1.png'">
    </md-cell>
  </ng-container>

  <!-- Name Column -->
  <ng-container cdkColumnDef="mode">
    <md-header-cell *cdkHeaderCellDef>决斗模式</md-header-cell>
    <md-cell *cdkCellDef="let room">
      <span *ngIf="room.options.mode === 0">单局模式</span>
      <span *ngIf="room.options.mode === 1">比赛模式</span>
      <span *ngIf="room.options.mode === 2">TAG</span>
    </md-cell>
  </ng-container>

  <!-- Color Column -->
  <ng-container cdkColumnDef="extra">
    <md-header-cell *cdkHeaderCellDef>额外选项</md-header-cell>
    <md-cell *cdkCellDef="let room">
      <span *ngIf="room.options.rule != default_options.rule">{{{'0': 'OCG', '1': 'TCG', '2': 'O/T', '3': '专有卡禁止'}[room.options.rule]}}</span>
      <span *ngIf="room.options.start_lp != default_options.start_lp">{{room.options.start_lp}} LP</span>
      <span *ngIf="room.options.start_hand != default_options.start_hand">{{room.options.start_hand}} 初始</span>
      <span *ngIf="room.options.draw_count != default_options.draw_count">{{room.options.draw_count}} 抽卡</span>
      <span *ngIf="room.options.enable_priority != default_options.enable_priority">旧规则</span>
      <span *ngIf="room.options.no_check_deck != default_options.no_check_deck">不检查</span>
      <span *ngIf="room.options.no_shuffle_deck != default_options.no_shuffle_deck">不洗卡</span>
    </md-cell>
  </ng-container>

  <md-header-row *cdkHeaderRowDef="displayedColumns"></md-header-row>
  <md-row *cdkRowDef="let room; columns: displayedColumns;" (click)="ygopro.join_room(room)"></md-row>
</md-table>

<form class="example-form">
  <input placeholder="在这输入你朋友的私密房间密码就可以进去了哦!">
  <button md-raised-button color="primary">加入私密房间</button>
</form>
